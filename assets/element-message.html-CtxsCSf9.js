import{_ as n,c as a,e,o as p}from"./app-DKLT9RiB.js";const t={};function l(o,s){return p(),a("div",null,s[0]||(s[0]=[e(`<h3 id="_1-在-utils-文件夹中新建-message-js" tabindex="-1"><a class="header-anchor" href="#_1-在-utils-文件夹中新建-message-js"><span>1. 在 utils 文件夹中新建 message.js</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-ui&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@desc</span> 打开提示框</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">}</span></span> <span class="token parameter">options</span> 指 Element Message Options</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">type</span> 主题</span>
<span class="line"> * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>boolean<span class="token punctuation">}</span></span> <span class="token parameter">single</span> 是否只显示一个，默认: true</span>
<span class="line"> * <span class="token keyword">@returns</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">}</span></span> 当前 Element Message 的实例</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">showMessage</span><span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> type<span class="token punctuation">,</span> single <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>single<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&#39;el-message&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> type <span class="token operator">?</span> Message<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Message</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> type <span class="token operator">?</span> Message<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Message</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token function-variable function">DonMessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">DonMessage<span class="token punctuation">.</span><span class="token function-variable function">success</span> <span class="token operator">=</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token string">&#39;success&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">DonMessage<span class="token punctuation">.</span><span class="token function-variable function">warning</span> <span class="token operator">=</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token string">&#39;warning&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">DonMessage<span class="token punctuation">.</span><span class="token function-variable function">info</span> <span class="token operator">=</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">DonMessage<span class="token punctuation">.</span><span class="token function-variable function">error</span> <span class="token operator">=</span> <span class="token parameter">options</span> <span class="token operator">=&gt;</span> <span class="token function">showMessage</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">DonMessage<span class="token punctuation">.</span>closeAll <span class="token operator">=</span> Message<span class="token punctuation">.</span>closeAll</span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> DonMessage</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-引入文件" tabindex="-1"><a class="header-anchor" href="#_2-引入文件"><span>2. 引入文件</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">&#39;@u/message&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>js 文件中直接使用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">&#39;请登录&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>挂载到 vue 原型上</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// main.js</span></span>
<span class="line"><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$message <span class="token operator">=</span> message</span>
<span class="line"></span>
<span class="line"><span class="token comment">// vue文件中调用</span></span>
<span class="line"><span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">&#39;请登录&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8)]))}const i=n(t,[["render",l],["__file","element-message.html.vue"]]),u=JSON.parse('{"path":"/blogs/vue/element-message.html","title":"在 vue 中使用 Element 的 Message 组件，解决弹窗重复弹出","lang":"en-US","frontmatter":{"title":"在 vue 中使用 Element 的 Message 组件，解决弹窗重复弹出","date":"2022-01-07T00:00:00.000Z","tags":["vue","element-ui"],"categories":["vue"]},"headers":[{"level":3,"title":"1. 在 utils 文件夹中新建 message.js","slug":"_1-在-utils-文件夹中新建-message-js","link":"#_1-在-utils-文件夹中新建-message-js","children":[]},{"level":3,"title":"2. 引入文件","slug":"_2-引入文件","link":"#_2-引入文件","children":[]}],"git":{"createdTime":1641548742000,"updatedTime":1641555316000,"contributors":[{"name":"MotioLiang","email":"1398814154@qq.com","commits":1},{"name":"王浩亮","email":"wanghaoliang@epatient.cn","commits":1}]},"filePathRelative":"blogs/vue/element-message.md"}');export{i as comp,u as data};
