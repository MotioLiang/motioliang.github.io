import{_ as l,c as i,a as s,b as a,d as t,e as p,o,r as c}from"./app-DKLT9RiB.js";const r={},u={href:"https://github.com/antfu/unplugin-vue-components",target:"_blank",rel:"noopener noreferrer"},d={href:"https://www.antdv.com/docs/vue/introduce-cn",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/antfu/unplugin-auto-import",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/vbenjs/vite-plugin-compression",target:"_blank",rel:"noopener noreferrer"};function k(g,n){const e=c("ExternalLinkIcon");return o(),i("div",null,[n[16]||(n[16]=s("p",null,[s("code",null,"Vite"),a(" 可以使用插件进行扩展，这得益于 "),s("code",null,"Rollup"),a(" 优秀的插件接口设计和一部分 "),s("code",null,"Vite"),a(" 独有的额外选项。 在 "),s("code",null,"Vue3 + Vite"),a(" 开发中，有下面几个插件帮助，无异于锦上添花，不失为日常开发中的神器。")],-1)),n[17]||(n[17]=s("h3",{id:"_1、unplugin-vue-components",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1、unplugin-vue-components"},[s("span",null,[a("1、"),s("code",null,"unplugin-vue-components")])])],-1)),s("p",null,[n[1]||(n[1]=s("code",null,"Vue",-1)),n[2]||(n[2]=a(" 的按需组件自动导入。")),s("a",u,[n[0]||(n[0]=a("github地址")),t(e)])]),n[18]||(n[18]=s("h4",{id:"自动导入ui库",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#自动导入ui库"},[s("span",null,"自动导入UI库")])],-1)),s("p",null,[n[4]||(n[4]=a("内置了大多数常见UI库解析器。以 ")),s("a",d,[n[3]||(n[3]=a("Ant Design Vue")),t(e)]),n[5]||(n[5]=a(" 为例。"))]),n[19]||(n[19]=p(`<ul><li>安装</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> unplugin-vue-components <span class="token parameter variable">-D</span></span>
<span class="line">// 安装ant-design-vue</span>
<span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> ant-design-vue</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Vite配置使用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// vite.config.js</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span></span>
<span class="line">  AntDesignVueResolver</span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;unplugin-vue-components/resolvers&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">AntDesignVueResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用插件，代码前后对比</li></ul><p>模板代码不变：</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span><span class="token punctuation">&gt;</span></span>Add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用插件前需要在 <code>&lt;script&gt;</code> 标签 <code>import</code> 该组件， 如下：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;ant-design-vue&#39;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用插件后，就不需要引入了，直接使用 <code>ant-design-vue</code> 组件。</p><h3 id="_2、unplugin-auto-import" tabindex="-1"><a class="header-anchor" href="#_2、unplugin-auto-import"><span>2、<code>unplugin-auto-import</code></span></a></h3>`,11)),s("p",null,[n[7]||(n[7]=a("自动导入 ")),n[8]||(n[8]=s("code",null,"Composition API",-1)),n[9]||(n[9]=a("。")),s("a",m,[n[6]||(n[6]=a("github地址")),t(e)])]),n[20]||(n[20]=p(`<ul><li>安装</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> unplugin-auto-import <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>Vite配置使用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// vite.config.js</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> autoImport <span class="token keyword">from</span> <span class="token string">&#39;unplugin-auto-import/vite&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token function">autoImport</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">imports</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;vue-router&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;pinia&#39;</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">dts</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用插件，代码前后对比</li></ul><p>使用前：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span></span>
<span class="line"><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> doubled <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用后：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> doubled <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、rollup-plugin-visualizer" tabindex="-1"><a class="header-anchor" href="#_3、rollup-plugin-visualizer"><span>3、<code>rollup-plugin-visualizer</code></span></a></h3><p>打包分析插件。</p><ul><li>安装</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> rollup-plugin-visualizer <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>vite配置</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// vite.config.js</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> visualizer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-visualizer&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token function">visualizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用插件</li></ul><p>执行打包命令（<code>pnpm build</code>）后，会在根目录下生成一个 <code>stats.html</code>文件，用浏览器打开后，如下图：</p><p><img src="https://s2.loli.net/2024/06/03/9yHNJXCoheIs71z.png" alt="visualizer"></p><h3 id="_4、vite-plugin-compression" tabindex="-1"><a class="header-anchor" href="#_4、vite-plugin-compression"><span>4、<code>vite-plugin-compression</code></span></a></h3>`,19)),s("p",null,[n[11]||(n[11]=a("使用 ")),n[12]||(n[12]=s("code",null,"gzip",-1)),n[13]||(n[13]=a(" 或 ")),n[14]||(n[14]=s("code",null,"brotli",-1)),n[15]||(n[15]=a(" 压缩资源。打包优化的时候会使用到这个插件，减小打包体积。")),s("a",v,[n[10]||(n[10]=a("github地址")),t(e)])]),n[21]||(n[21]=p(`<ul><li>安装</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">pnpm</span> <span class="token function">add</span> vite-plugin-compression <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>vite配置使用</li></ul><p>两种格式（<code>gz</code> 格式和 <code>br</code> 格式）配置。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// vite.config.js</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span></span>
<span class="line"><span class="token keyword">import</span> compression <span class="token keyword">from</span> <span class="token string">&#39;vite-plugin-compression&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token comment">// gz格式</span></span>
<span class="line">    <span class="token function">compression</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">500</span><span class="token punctuation">,</span>   <span class="token comment">// 体积大于 threshold 才会被压缩,单位 b</span></span>
<span class="line">      <span class="token literal-property property">ext</span><span class="token operator">:</span> <span class="token string">&#39;.gz&#39;</span><span class="token punctuation">,</span>   <span class="token comment">// 压缩文件格式</span></span>
<span class="line">      <span class="token literal-property property">deleteOriginFile</span><span class="token operator">:</span> <span class="token boolean">false</span>   <span class="token comment">// 是否删除源文件</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// br格式</span></span>
<span class="line">    <span class="token comment">// compression({</span></span>
<span class="line">    <span class="token comment">//   threshold: 1024 * 500,    // 体积大于 threshold 才会被压缩,单位 b</span></span>
<span class="line">    <span class="token comment">//   ext: &#39;.br&#39;,</span></span>
<span class="line">    <span class="token comment">//   algorithm: &#39;brotliCompress&#39;,</span></span>
<span class="line">    <span class="token comment">//   deleteOriginFile: false</span></span>
<span class="line">    <span class="token comment">// })</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数说明</li></ul><table><thead><tr><th>params</th><th>type</th><th>default</th><th>default</th></tr></thead><tbody><tr><td>verbose</td><td>boolean</td><td>true</td><td>Whether to output the compressed result in the console</td></tr><tr><td>filter</td><td>RegExp or (file: string) =&gt; boolean</td><td>DefaultFilter</td><td>Specify which resources are not compressed</td></tr><tr><td>disable</td><td>boolean</td><td>false</td><td>Whether to disable</td></tr><tr><td>threshold</td><td>number</td><td>1025</td><td>It will be compressed if the volume is larger than threshold, the unit is b</td></tr><tr><td>algorithm</td><td>string</td><td>gzip</td><td>Compression algorithm, optional [‘gzip’,‘brotliCompress’ ,‘deflate’,‘deflateRaw’]</td></tr><tr><td>ext</td><td>string</td><td>.gz</td><td>Suffix of the generated compressed package</td></tr><tr><td>compressionOptions</td><td>object</td><td>-</td><td>The parameters of the corresponding compression algorithm</td></tr><tr><td>deleteOriginFile</td><td>boolean</td><td>-</td><td>Whether to delete source files after compression</td></tr></tbody></table>`,7))])}const h=l(r,[["render",k],["__file","Vitexiangmutuijianshiyongdejigechajian.html.vue"]]),f=JSON.parse('{"path":"/blogs/vite/Vitexiangmutuijianshiyongdejigechajian.html","title":"Vite 项目推荐使用的几个插件","lang":"en-US","frontmatter":{"title":"Vite 项目推荐使用的几个插件","date":"2024-06-02T00:00:00.000Z","tags":["vite"],"categories":["vite"]},"headers":[{"level":3,"title":"1、unplugin-vue-components","slug":"_1、unplugin-vue-components","link":"#_1、unplugin-vue-components","children":[]},{"level":3,"title":"2、unplugin-auto-import","slug":"_2、unplugin-auto-import","link":"#_2、unplugin-auto-import","children":[]},{"level":3,"title":"3、rollup-plugin-visualizer","slug":"_3、rollup-plugin-visualizer","link":"#_3、rollup-plugin-visualizer","children":[]},{"level":3,"title":"4、vite-plugin-compression","slug":"_4、vite-plugin-compression","link":"#_4、vite-plugin-compression","children":[]}],"git":{"createdTime":1717680921000,"updatedTime":1717680921000,"contributors":[{"name":"motioliang","email":"1398814154@qq.com","commits":1}]},"filePathRelative":"blogs/vite/Vite项目推荐使用的几个插件.md"}');export{h as comp,f as data};
